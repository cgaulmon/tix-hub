<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
<meta charset="ISO-8859-1">
<title>Create Event</title>
<section th:replace="header::includes"/>
<script>

$.validator.setDefaults({
	submitHandler: function(form) {
		$('#exampleModal').modal('toggle');
		var email = $("#email").val();
		var rsvpMessageHTML = "<strong>RSVP Complete!</strong> An email has been sent to: " + email;
		$("#rsvpMsgSpan").html(rsvpMessageHTML);
		$("#rsvpSuccessAlert").addClass('show');
	}
});

	$(document).ready(function() {
		$("#invalidCredAlertCloseBtn").click(function(){
			$("#rsvpSuccessAlert").removeClass('show');
		});
		
		
		var padNumber = function(num) {
			return num < 9 ? num.toString().padStart(2,'0') : num;
		}
		
		var d = new Date();
		var day = padNumber(d.getDate());
		var month = padNumber(d.getMonth()+1);
		var dateString = d.getFullYear() + "-" + month + "-" + day;
		
		$("#eventDate").attr("min",dateString);
		
		$("#newEventForm").validate({
			rules: {
				numOfTickets: "required",
				eventName: "required",
				eventDate: {required: true, date: true},
				shortDescription: "required"
				
			},
			messages: {
				numOfTickets: "Enter a number",
				eventName: "Please enter a name",
				eventDate: "Please enter a date for your event",
				shortDescription: "Enter a short description of the event"
			}
		});
	});
</script>
<style>
 form .error {
  color: #ff0000;
  }
</style>
</head>
<body>
	<header th:replace="header:: header"> </header>

		<section id="registerFormSection" class="container py-4" >
			<div class="row">
				<div class="col-md-8">
					<div class="card">
						<div class="card-header">
							<div>Create New Event</div>
						</div>
						<div class="card-body">
						 <form name="newEventForm" id="newEventForm" method="post" novalidate="novalidate">
							<div class="form-group">
								<label>Event Name: </label> 
								<input id="eventName" name="eventName" class="form-control form-control-lg" type="text" required="required" />
							</div>
							<div class="form-group">
								<label>Date: </label> 
								<input id="eventDate" name="eventDate" class="form-control form-control-lg" type="date" required="required" />
							</div>
							<div class="form-group">
								<label># of Available Tickets: </label> 
								<input id="numOfTickets" name="numOfTickets" class="form-control form-control-lg" type="number"  required="required" />
							</div>
							<div class="form-group">
								<label>Short Description</label> 
								<textarea id="shortDescription" name="shortDescription" class="form-control" required="required" maxlength="100"></textarea>
								
							</div>
							<div class="form-group">
								<label>Long Description</label> 
								<textarea id="longDescription" name="longDescription" class="form-control" rows="6" maxlength="500"></textarea>
								
							</div>
							<input type="submit" id="submitBtn"	class="btn btn-lg btn-primary" value="Save">
							</form>

						</div>
					</div>
				</div>
			</div>
			</section>
</body>
</html>